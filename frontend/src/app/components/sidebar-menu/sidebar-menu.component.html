<!-- Overlay para mÃ³viles -->
<div *ngIf="!isCollapsed" class="sidebar-overlay" (click)="toggleMenu()"></div>

<!-- BotÃ³n flotante para abrir el menÃº cuando estÃ¡ cerrado -->
<div *ngIf="isCollapsed" class="floating-menu-button" (click)="toggleMenu()" title="Abrir MenÃº">
  <div class="hamburger-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<div class="sidebar-container" [class.collapsed]="isCollapsed">
  <!-- Header del menÃº -->
  <div class="sidebar-header">
    <div class="menu-toggle" (click)="toggleMenu()">
      <div class="hamburger" [class.active]="!isCollapsed">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
    <h2 class="menu-title">MenÃº</h2>
  </div>

  <!-- Contenedor del menÃº con scroll -->
  <div class="menu-scroll-container" [class.collapsed]="isCollapsed">
    <nav class="sidebar-nav">
      <!-- Inicio - Para todos los usuarios -->
      <a
        class="menu-item"
        [class.active]="currentRoutePath === '/profile'"
        (click)="navigateTo('/profile')"
        title="Inicio"
      >
        <div class="menu-icon">ğŸ </div>
        <span class="menu-text">Inicio</span>
      </a>

      <!-- Levantar Ticket - Solo para empleados -->
      <a
        *ngIf="isEmpleado"
        class="menu-item"
        [class.active]="currentRoutePath === '/tickets/new'"
        (click)="navigateTo('/tickets/new')"
        title="Levantar Ticket"
      >
        <div class="menu-icon">ğŸ“</div>
        <span class="menu-text">Levantar Ticket</span>
      </a>

      <!-- Seguimiento de tickets - Solo para empleados -->
      <a
        *ngIf="isEmpleado"
        class="menu-item"
        [class.active]="currentRoutePath === '/tickets/tracking'"
        (click)="navigateTo('/tickets/tracking')"
        title="Seguimiento de tickets"
      >
        <div class="menu-icon">ğŸ”</div>
        <span class="menu-text">Seguimiento de tickets</span>
      </a>

      <!-- Tickets Reabiertos - Solo para empleados -->
      <a
        *ngIf="isEmpleado"
        class="menu-item"
        [class.active]="currentRoutePath === '/tickets/reopened'"
        (click)="navigateTo('/tickets/reopened')"
        title="Tickets Reabiertos"
      >
        <div class="menu-icon">â™»ï¸</div>
        <span class="menu-text">Tickets Reabiertos</span>
      </a>

      <!-- Cerrar Ticket - Solo para empleados -->
      <a
        *ngIf="isEmpleado"
        class="menu-item"
        [class.active]="currentRoutePath === '/tickets/close'"
        (click)="navigateTo('/tickets/close')"
        title="Cerrar Ticket"
      >
        <div class="menu-icon">âœ…</div>
        <span class="menu-text">Cerrar Ticket</span>
      </a>

      <!-- Ayuda - Solo para empleados -->
      <a
        *ngIf="isEmpleado"
        class="menu-item"
        [class.active]="currentRoutePath === '/help'"
        (click)="navigateTo('/help')"
        title="Ayuda"
      >
        <div class="menu-icon">â“</div>
        <span class="menu-text">Ayuda</span>
      </a>

      <!-- Resumen de Tickets - Solo para empleados -->
      <a
        *ngIf="isEmpleado"
        class="menu-item"
        [class.active]="currentRoutePath === '/tickets/summary'"
        (click)="navigateTo('/tickets/summary')"
        title="Resumen de Tickets"
      >
        <div class="menu-icon">ğŸ“Š</div>
        <span class="menu-text">Resumen de Tickets</span>
      </a>


      <!-- Mis Tickets - Para tÃ©cnicos y administradores -->
      <a
        *ngIf="isTecnico || isAdmin"
        class="menu-item"
        [class.active]="currentRoutePath === '/tickets/my-tickets'"
        (click)="navigateTo('/tickets/my-tickets')"
        title="Mis Tickets"
      >
        <div class="menu-icon">ğŸ“‹</div>
        <span class="menu-text">Mis Tickets</span>
      </a>

      <!-- Tickets Reabiertos - Para tÃ©cnicos y administradores -->
      <a
        *ngIf="isTecnico || isAdmin"
        class="menu-item"
        [class.active]="currentRoutePath === '/tickets/reopened'"
        (click)="navigateTo('/tickets/reopened')"
        title="Tickets Reabiertos"
      >
        <div class="menu-icon">â™»ï¸</div>
        <span class="menu-text">Tickets Reabiertos</span>
      </a>

      <!-- Tickets Escalados - Para tÃ©cnicos y administradores -->
      <a
        *ngIf="isTecnico || isAdmin"
        class="menu-item"
        [class.active]="currentRoutePath === '/tickets/escalated'"
        (click)="navigateTo('/tickets/escalated')"
        title="Tickets Escalados"
      >
        <div class="menu-icon">ğŸš¨</div>
        <span class="menu-text">Tickets Escalados</span>
      </a>

      <!-- GestiÃ³n de Usuarios - Solo para administradores -->
      <a
        *ngIf="isAdmin"
        class="menu-item"
        [class.active]="currentRoutePath === '/users'"
        (click)="navigateTo('/users')"
        title="GestiÃ³n de Usuarios"
      >
        <div class="menu-icon">ğŸ‘¥</div>
        <span class="menu-text">GestiÃ³n de Usuarios</span>
      </a>

      <!-- Asignaciones AutomÃ¡ticas - Oculto ya que funciona automÃ¡ticamente -->
      <!--
      <a
        *ngIf="isAdmin"
        class="menu-item"
        [class.active]="currentRoutePath === '/assignments'"
        (click)="navigateTo('/assignments')"
        title="Asignaciones AutomÃ¡ticas"
      >
        <div class="menu-icon">ğŸ¤–</div>
        <span class="menu-text">Asignaciones AutomÃ¡ticas</span>
      </a>
      -->

      <!-- CatÃ¡logo de Servicios - Solo para administradores -->
      <a
        *ngIf="isAdmin"
        class="menu-item"
        [class.active]="currentRoutePath === '/services/catalog'"
        (click)="navigateTo('/services/catalog')"
        title="CatÃ¡logo de Servicios"
      >
        <div class="menu-icon">ğŸ“š</div>
        <span class="menu-text">CatÃ¡logo de Servicios</span>
      </a>

      <!-- Reportes - Solo para administradores -->
      <a
        *ngIf="isAdmin"
        class="menu-item"
        [class.active]="currentRoutePath === '/reports'"
        (click)="navigateTo('/reports')"
        title="Reportes de GestiÃ³n"
      >
        <div class="menu-icon">ğŸ“Š</div>
        <span class="menu-text">Reportes</span>
      </a>

    </nav>
  </div>
</div>
